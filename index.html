<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>오토바이 번호판 미부착 등~~</title>
<style>
  body { font-family: sans-serif; padding: 1rem; background-color: #f7f7f7; }
  .hidden { display: none; }
  .section { margin-bottom: 2rem; background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  button { padding: 0.5rem 1rem; margin-top: 1rem; cursor: pointer; }
  label { display: block; margin: 0.5rem 0; position: relative; }
  .penalty { color: red; font-weight: bold; }
  .law { color: blue; text-decoration: underline; cursor: pointer; }
  .confirm-area { margin-left: 1rem; margin-top: 0.3rem; background: #eef3ff; padding: 0.5rem; border-left: 3px solid #337ab7; border-radius: 4px; }
  .sub-title { margin-top: 0.5rem; font-weight: bold; color: #333; }
</style>
</head>
<body>

<div class="section">
  <h2>1.해당 항목 선택 </h2>
  <label><input type="radio" name="차량" value="2륜"> 2륜자동차</label>
  <label><input type="radio" name="차량" value="4륜"> 4륜자동차</label>
  <label><input type="radio" name="차량" value="번호판가림"> 번호판 가림</label>
</div>

<div class="section hidden" id="운행여부섹션">
  <h2>2. 운행 여부를 선택하세요</h2>
  <label><input type="radio" name="운행" value="운행"> 운행</label>
  <label><input type="radio" name="운행" value="미운행"> 미운행</label>
</div>

<!-- 2륜 체크리스트 -->
<div class="section hidden" id="2륜운행체크">
  <h2>3. [2륜] 운행시 위반 여부 점검</h2>

  <!-- ✅ 의무보험 미가입 운행(보유자 처벌)만 1차/2차 구조 -->
  <label>
    <input type="checkbox" 
      data-law1="통고처분" 
      data-lawlink1="자동차손해배상보장법 제50조,자동차손해배상보장법 제51조"
      data-law2="1년 이하의 징역 또는 1000만원 이하의 벌금" 
      data-lawlink2="자동차손해배상보장법 제8조,자동차손해배상보장법 제46조제3항 제2호">
    의무보험 미가입 운행<span class="penalty">(보유자 처벌)</span>
    <div class="confirm-area hidden"></div>
  </label>

  <label>
    <input type="checkbox" 
      data-law1="300만원 이하의 과태료" 
      data-lawlink1="자동차관리법 제48조제1항,자동차관리법 제84조제3항 9호">
    미신고 운행<span class="penalty">(운행자 처벌)</span>
    <div class="confirm-area hidden"></div>
  </label>

  <label>
    <input type="checkbox" 
      data-law1="300만원 이하의 과태료" 
      data-lawlink1="자동차관리법 제49조제1항,자동차관리법 제84조제3항 10호">
    번호판 미부착 운행<span class="penalty">(운행자 처벌)</span>
    <div class="confirm-area hidden"></div>
  </label>
</div>

<div class="section hidden" id="2륜미운행체크">
  <h2>3. [2륜] 미운행시 위반 여부 점검</h2>
  <label>
    <input type="checkbox" 
      data-law1="100만원 이하의 과태료" 
      data-lawlink1="자동차관리법 제49조제2항,자동차관리법 제84조제4항 18의3호">
    신고 후 번호판 미부착
    <div class="confirm-area hidden"></div>
  </label>
</div>

<!-- 4륜 체크리스트 -->
<div class="section hidden" id="4륜운행체크">
  <h2>3. [4륜] 운행시 위반 여부 점검</h2>

  <!-- ✅ 1차/2차 구분 있음 -->
  <label>
    <input type="checkbox" 
      data-law1="통고처분" 
      data-lawlink1="자동차손해배상보장법 제50조,자동차손해배상보장법 제51조"
      data-law2="1년 이하의 징역 또는 1000만원 이하의 벌금" 
      data-lawlink2="자동차손해배상보장법 제8조,자동차손해배상보장법 제46조제3항 제2호">
    의무보험 미가입 운행<span class="penalty">(보유자 처벌)</span>
    <div class="confirm-area hidden"></div>
  </label>

  <label>
    <input type="checkbox" 
      data-law1="3년 이하의 징역 3천만원 이하의 벌금" 
      data-lawlink1="자동차관리법 제5조,자동차관리법 제79조 1호">
    무등록 운행<span class="penalty">(운행자 처벌)</span>
    <div class="confirm-area hidden"></div>
  </label>

  <label>
    <input type="checkbox" 
      data-law1="300만원 이하의 과태료" 
      data-lawlink1="자동차관리법 제10조제4항,자동차관리법 제84호제3항 1호">
    번호판 미부착 운행<span class="penalty">(운행자 처벌)</span>
    <div class="confirm-area hidden"></div>
  </label>
</div>

<div class="section hidden" id="4륜미운행체크">
  <h2>3. [4륜] 미운행시 위반 여부 점검</h2>
  <label>
    <input type="checkbox" data-law1="? (?)"> ?
    <div class="confirm-area hidden"></div>
  </label>
</div>

<!-- 번호판 가리 체크리스트 -->
<div class="section hidden" id="번호판가리체크">
  <h2>3. 번호판 가리기 위반 유형</h2>
  <label>
    <input type="checkbox" 
      data-law1="1년 이하의 징역 또는 1000만원 이하의 벌금" 
      data-lawlink1="자동차관리법 제10조제5항, 자동차관리법 제81조 1의2호">
    <span class="penalty">고의로</span> 번호판을 가리거나 알아보지 곤란하게 한 자
    <div class="confirm-area hidden"></div>
  </label>
  <label>
    <input type="checkbox" 
      data-law1="300만원 이하의 과태료" 
      data-lawlink1="자동차관리법 제10조제5항,자동차관리법 제84조 제3항 2호">
    번호판을 가리거나 알아보지 곤란하게 한 자 및 그런 자동차를 운행한 자
    <div class="confirm-area hidden"></div>
  </label>
</div>

<script>
document.querySelectorAll('input[name="차량"]').forEach(radio => {
  radio.addEventListener('change', () => {
    const 차량값 = radio.value;
    if (차량값 === "번호판가림") {
      document.getElementById('운행여부섹션').classList.add('hidden');
      ['2륜운행체크','2륜미운행체크','4륜운행체크','4륜미운행체크','번호판가리체크'].forEach(id=>{
        document.getElementById(id).classList.add('hidden');
      });
      document.getElementById('번호판가리체크').classList.remove('hidden');
      document.querySelectorAll('input[name="운행"]').forEach(r=>r.checked=false);
    } else {
      document.getElementById('운행여부섹션').classList.remove('hidden');
      ['2륜운행체크','2륜미운행체크','4륜운행체크','4륜미운행체크','번호판가리체크'].forEach(id=>{
        document.getElementById(id).classList.add('hidden');
      });
      document.querySelectorAll('input[name="운행"]').forEach(r=>r.checked=false);
    }
  });
});

document.querySelectorAll('input[name="운행"]').forEach(radio=>{
  radio.addEventListener('change',()=>{
    const 차량=document.querySelector('input[name="차량"]:checked')?.value;
    if(!차량||차량==="번호판가림")return;
    ['2륜운행체크','2륜미운행체크','4륜운행체크','4륜미운행체크','번호판가리체크'].forEach(id=>{
      document.getElementById(id).classList.add('hidden');
    });
    if(차량==='2륜'&&radio.value==='운행')document.getElementById('2륜운행체크').classList.remove('hidden');
    if(차량==='2륜'&&radio.value==='미운행')document.getElementById('2륜미운행체크').classList.remove('hidden');
    if(차량==='4륜'&&radio.value==='운행')document.getElementById('4륜운행체크').classList.remove('hidden');
    if(차량==='4륜'&&radio.value==='미운행')document.getElementById('4륜미운행체크').classList.remove('hidden');
  });
});

document.addEventListener('change', e=>{
  if(e.target.matches('input[type="checkbox"]')){
    showConfirm(e);
  }
});

function showConfirm(e){
  const checkbox = e.target;
  const confirmArea = checkbox.parentElement.querySelector('.confirm-area');
  if(!confirmArea) return;

  if(checkbox.checked){
    const 처벌1 = checkbox.dataset.law1 || '';
    const 법조항1 = checkbox.dataset.lawlink1 || '';
    const 처벌2 = checkbox.dataset.law2 || '';
    const 법조항2 = checkbox.dataset.lawlink2 || '';

    let html = '';
    const 항목명 = checkbox.parentElement.textContent.trim();

    // 의무보험 미가입 운행일 경우만 1차/2차 구분 표시
    if (항목명.includes("의무보험 미가입 운행")) {
      if (처벌1) {
        html += `<div class="sub-title">1차: <span class="penalty">${처벌1}</span></div>`;
        html += makeLawLinks(법조항1);
      }
      if (처벌2) {
        html += `<div class="sub-title">2차: <span class="penalty">${처벌2}</span></div>`;
        html += makeLawLinks(법조항2);
      }
    } 
    // 그 외 항목은 단순 표시 (1차, 2차 구분 제거)
    else {
      if (처벌1) {
        html += `<div class="sub-title"><span class="penalty">${처벌1}</span></div>`;
        html += makeLawLinks(법조항1);
      }
    }

    confirmArea.innerHTML = html;
    confirmArea.classList.remove('hidden');
  } else {
    confirmArea.classList.add('hidden');
  }
}

function makeLawLinks(법조항문자열){
  if(!법조항문자열)return '';
  const 법조항들=법조항문자열.split(/\s*,\s*/);
  let html='';
  법조항들.forEach(법조항=>{
    const 매칭=법조항.match(/(.*?법)\s*제(\d+)조/);
    if(매칭){
      const 법령명=매칭[1].trim().replace(/\s/g,'');
      const 조번호=매칭[2].trim();
      const 링크=`https://www.law.go.kr/법령/${encodeURIComponent(법령명)}/제${조번호}조`;
      html+=`<div><a href="${링크}" target="_blank" class="law">${법조항}</a></div>`;
    } else {
      html+=`<div><span class="law">${법조항}</span></div>`;
    }
  });
  return html;
}
</script>

</body>
</html>










